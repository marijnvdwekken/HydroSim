log-pipeline:
  source:
    http:
      ssl: false
  processor:
    - grok:
        match:
          log: [ "%{COMMONAPACHELOG}" ]
    - date:
        match:
          - key: "timestamp"
            patterns:
              - "dd/MMM/yyyy:HH:mm:ss Z"
        destination: "@timestamp"
        from_time_received: false
  sink:
    - opensearch:
        hosts: [ "https://opensearch-node1:9200" ]
        insecure: true
        username: admin
        password: Patat123!
        index: apache_logs
